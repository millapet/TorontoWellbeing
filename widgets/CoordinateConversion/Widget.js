// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"jimu/dijit/CoordinateControl":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/has dojo/query dojo/dom-attr dojo/dom-class dojo/dom-style dojo/string dojo/topic dojo/keys dojo/Deferred dojo/Evented dojo/dom dojo/dom-construct dojo/aspect jimu/BaseWidget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Tooltip dijit/TooltipDialog dijit/popup dojo/text!./templates/CoordinateControl.html esri/geometry/webMercatorUtils esri/graphic esri/geometry/Point esri/request esri/SpatialReference esri/tasks/GeometryService esri/tasks/ProjectParameters esri/toolbars/draw jimu/dijit/Message ./_CoordinateControlFormatNotation ./_CoordinateControlConfirmNotation dojo/_base/sniff dijit/form/TextBox dijit/form/Textarea dijit/form/Select dijit/InlineEditBox".split(" "),
function(v,r,b,f,k,q,n,l,h,t,m,g,x,A,C,D,w,y,p,B,G,H,I,z,J,u,K,O,L,E,P,M,N,F,Q,R){return v([y,p,B,A],{templateString:J,baseClass:"jimu-coordinate-control",parentWidget:null,input:!0,label:null,showCopyButton:!1,showFormatButton:!1,zoomScale:null,showDeleteButton:!0,showExpandButton:!0,showDrawPoint:!0,drawButtonLabel:null,drawToolTip:null,graphicsLayer:null,type:"DD",inputFromText:!0,addSign:!1,hasCustomLabel:!1,postMixInProperties:function(){this.nls=window.jimuNls.coordinateControl;this.isRenderIdForAttrs=
!0},constructor:function(a){v.safeMixin(this,a);this.uid=a.id||G.getUniqueId("cc");null===this.parentWidget&&console.error("No parentWidget parameter supplied: Parameter is mandatory");null===this.label&&console.info("No label parameter supplied (optional): Coordinate Control will have no label");null===this.zoomScale&&console.info("No zoomScale parameter supplied (optional): Coordinate Control will have no zoom button");null===this.drawButtonLabel&&console.info("No drawButtonLabel parameter supplied (optional): Coordinate Control will have no draw button");
null===this.graphicsLayer&&console.info("No graphicsLayer parameter supplied: Input graphics will not be shown on map")},postCreate:function(){this._frmtdlg=new I({id:this.uid+"_formatCoordinateTooltip",content:new Q({nls:this.nls,ct:this.type}),style:"width: 400px",onClose:b.hitch(this,this.popupDidClose)});w.after(this._frmtdlg,"onShow",b.hitch(this,function(){this._frmtdlg.content.frmtSelect.focus()}));w.after(this._frmtdlg,"onClose",b.hitch(this,function(){this.formatButton.focus()}));this.own(f(this._frmtdlg,
"keydown",b.hitch(this,function(a){a.keyCode===g.ESCAPE&&z.close(this._frmtdlg)})));"DartTheme"===this.parentWidget.appConfig.theme.name&&l.add(this._frmtdlg.domNode,"coordinateControlDialog");this.defaultFormat&&(this._frmtdlg.content.formats[this.type].defaultFormat=this.defaultFormat);this.geomsrvc=new P(this.parentWidget.appConfig.geometryService);this.dt=new N(this.parentWidget.map);this.initUI();this.setUIListeners()},initUI:function(){null===this.label?this.setHidden(this.coordNameContainer,
!1):this.coordName.setValue(this.label);this.input?(this.zoomButton.parentNode.style.display="none",this.setHidden(this.expandButton,!0),this.setHidden(this.removeControlBtn,!0),this.coordName.set("disabled","disabled"),this.coordName.set("value",this.label+" ("+this._frmtdlg.content.ct+")"),this.showDrawPoint?(this.drawPointButton.title=this.drawButtonLabel,null===this.drawToolTip&&(this.drawToolTip=this.nls.tooltip)):this.setHidden(this.drawPointButton,!0)):(this.coordtext.disabled=!0,this.setHidden(this.drawPointButton,
!0),this.showExpandButton||(this.setHidden(this.expandButton,!0),l.remove(this.domNode,"coordinateContainer"),l.add(this.domNode,"outputCoordinateContainer"),l.add(this.cpbtn,"outputCopyBtn"),this.coordtext.readOnly=!0),this.showDeleteButton||this.setHidden(this.removeControlBtn,!0));this.showCopyButton||(this.setHidden(this.cpbtn,!0),l.add(this.cpbtn,"inputCopyBtn"),n.set(this.cpbtn,"title",this.nls.copyAll));this.showFormatButton||this.setHidden(this.formatButton,!0);null===this.zoomScale&&this.setHidden(this.zoomButton,
!0);this.formatButton.title=this.input?this.nls.formatInput:this.nls.formatOutput;n.set(this.formatButton,"aria-label",this.formatButton.title)},setUIListeners:function(){this.input||m.subscribe("INPUTPOINTDIDCHANGE",b.hitch(this,this.mapWasClicked));m.subscribe("INPUTERROR",b.hitch(this,this.inputError));this.own(f(this.expandButton,"click",b.hitch(this,this.expandButtonWasClicked)));this.own(f(this.expandButton,"keydown",b.hitch(this,function(a){if(a.keyCode===g.ENTER||a.keyCode===g.SPACE)this.expandButtonWasClicked(a),
a.preventDefault()})));this.own(f(this.zoomButton,"click",b.hitch(this,this.zoomButtonWasClicked)));this.own(f(this.zoomButton,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.zoomButtonWasClicked(a)})));this.own(f(this.coordName,"blur",b.hitch(this,this.coordNameDidChange)));this.cpbtn.addEventListener("click",b.hitch(this,this.cpBtnWasClicked));this.own(f(this.cpbtn,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.cpBtnWasClicked(a)})));
this.subVal1CpBtn.addEventListener("click",b.hitch(this,this.cpSubBtnWasClicked));this.own(f(this.subVal1CpBtn,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.cpSubBtnWasClicked(a)})));this.subVal2CpBtn.addEventListener("click",b.hitch(this,this.cpSubBtnWasClicked));this.own(f(this.subVal2CpBtn,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.cpSubBtnWasClicked(a)})));this.subVal3CpBtn.addEventListener("click",b.hitch(this,this.cpSubBtnWasClicked));
this.own(f(this.subVal3CpBtn,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.cpSubBtnWasClicked(a)})));this.subVal4CpBtn.addEventListener("click",b.hitch(this,this.cpSubBtnWasClicked));this.own(f(this.subVal4CpBtn,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.cpSubBtnWasClicked(a)})));this.own(f(this.formatButton,"click",b.hitch(this,this.formatButtonWasClicked)));this.own(f(this.formatButton,"keydown",b.hitch(this,function(a){a.keyCode!==
g.ENTER&&a.keyCode!==g.SPACE||this.formatButtonWasClicked(a)})));this.own(f(this.drawPointButton,"click",b.hitch(this,this.drawPointButtonWasClicked)));this.own(f(this.drawPointButton,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.drawPointButtonWasClicked(a)})));this.own(f(this.removeControlBtn,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.remove()})));this.own(f(this._frmtdlg.content.applyButton,"click",b.hitch(this,this.formatDialogApplyButtonClicked)));
this.own(f(this._frmtdlg.content.applyButton,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||this.formatDialogApplyButtonClicked()})));this.own(f(this._frmtdlg.content.cancelButton,"click",b.hitch(this,function(){z.close(this._frmtdlg)})));this.own(f(this._frmtdlg.content.cancelButton,"keydown",b.hitch(this,function(a){a.keyCode!==g.ENTER&&a.keyCode!==g.SPACE||z.close(this._frmtdlg)})));this.own(f(this.coordtext,"keydown",b.hitch(this,this.coordTextInputKeyWasPressed)));
this.own(f(this.coordtext,"input",b.hitch(this,function(){this.currentClickPointDD=null;this.zoomButton.parentNode.style.display="none";this.emit("coordinates-deleted",{})})));this.own(this.geomsrvc.on("error",b.hitch(this,this.geomSrvcDidFail)));this.own(f(this.dt,"draw-complete",b.hitch(this,this.drawComplete)));this.own(w.after(this.parentWidget,"onClose",b.hitch(this,function(){this.input&&l.contains(this.drawPointButton,"drawPointBtn-active")&&this.deactivateDrawTool();this._frmtdlg&&this._frmtdlg.domNode.offsetParent&&
"closed"===this.parentWidget.state&&z.close(this._frmtdlg)})));this.own(w.after(this.parentWidget,"onOpen",b.hitch(this,function(){var a=this.parentWidget.getParent().getParent().domNode;this.own(f(a,"click",b.hitch(this,function(a){"settingBtn"!==a.target.className&&this._frmtdlg&&this._frmtdlg.domNode.offsetParent&&"active"===this.parentWidget.state&&z.close(this._frmtdlg)})))})))},formatDialogApplyButtonClicked:function(){this.type=this._frmtdlg.content.ct;this.updateDisplay();this.hasCustomLabel||
this._frmtdlg.content.formats[this._frmtdlg.content.ct].useCustom||this.input?this.coordName.set("value",this.label+" ("+this._frmtdlg.content.ct+")"):this.coordName.set("value",this._frmtdlg.content.ct);z.close(this._frmtdlg)},popupDidClose:function(){if(this._frmtdlg.content.isCanceled)this.addSign!==this._frmtdlg.content.addSignChkBox.checked&&(this._frmtdlg.content.addSignChkBox.checked=this.addSign);else{this.addSign=this._frmtdlg.content.addSignChkBox.checked;var a=this._frmtdlg.content.ct;
this.type!==a&&(this.type=a,this.updateDisplay())}},coordNameDidChange:function(){this.hasCustomLabel=!0},cpSubBtnWasClicked:function(a){var e;this[a.currentTarget.id.split("~")[0]].select();try{e=document.execCommand("copy")}catch(c){e=!1}this.showToolTip(a.currentTarget.id,e?this.nls.copySuccessful:this.nls.copyFailed)},cpBtnWasClicked:function(a){a.preventDefault();var e,c;if(this.input){a=G.toArray().filter(function(a){return"jimu-coordinate-control"===a.baseClass&&!a.input});c=a.map(function(a){if(a.coordtext)return a.coordtext.value}).join("\r\n");
a=this.coordtext.value;this.coordtext.value=a+"\r\n"+c;this.selectText(this.coordtext);try{e=document.execCommand("copy")}catch(d){e=!1}this.coordtext.value=a}else{this.selectText(this.coordtext);try{e=document.execCommand("copy")}catch(d){e=!1}}this.showToolTip(this.cpbtn.id,e?this.nls.copySuccessful:this.nls.copyFailed)},selectText:function(a){var e=document.getSelection();e.removeAllRanges();a.focus();var c=/Edge/.test(navigator.userAgent),d=!!window.MSInputMethodContext&&!!document.documentMode;
if(k("ff")||k("chrome")||k("safari"))!this.input&&this.coordtext.disabled?(this.coordtext.disabled=!1,a.select(),this.coordtext.disabled=!0):a.select();c&&a.select();d&&(c=document.createRange(),c.selectNode(a),e.addRange(c))},showToolTip:function(a,e){var c=C.byId(a);H.show(e,c);setTimeout(function(){H.hide(c)},1E3)},geomSrvcDidComplete:function(a){0>=a[0].length?(new F({message:this.nls.parseCoordinatesError}),m.publish("INPUTERROR")):(this.currentClickPointDD=this.currentClickPoint=new O(a[0][0],
a[0][1],new E({wkid:4326})),this.input&&(this.parentWidget.map.centerAt(this.currentClickPointDD),this.updateDisplay(),m.publish("INPUTPOINTDIDCHANGE",{mapPoint:this.currentClickPointDD,inputFromText:!0})))},geomSrvcDidFail:function(){new F({message:this.nls.parseCoordinatesError});m.publish("INPUTERROR")},coordTextInputKeyWasPressed:function(a){if(a.keyCode===g.ENTER){a.preventDefault();var e=this.getCleanInput(a.currentTarget.value);this.getCoordinateType(e).then(b.hitch(this,function(a){if(a)if(1===
a.length){var c=this.processCoordTextInput(e,a[0],!1);this.getXYNotation(c,a[0].conversionType).then(b.hitch(this,function(a){0<a[0].length?this.geomSrvcDidComplete(a):this.geomSrvcDidFail()}))}else this.confirmNotationDialog||(this.confirmNotationDialog=new R({title:this.nls.comfirmInputNotation,nls:this.nls,options:a,style:"width: 400px",hasSkipCheckBox:!1,theme:this.parentWidget.appConfig.theme.name})),this.confirmNotationDialog.show().then(b.hitch(this,function(){var c=r.filter(a,function(a){return a.name===
this.confirmNotationDialog.comboOptions.get("value")},this),d=this.processCoordTextInput(e,c[0],!1);this.getXYNotation(d,c[0].conversionType).then(b.hitch(this,function(a){0<a[0].length?this.geomSrvcDidComplete(a):this.geomSrvcDidFail()}))},function(){}));else new F({message:this.nls.parseCoordinatesError}),m.publish("INPUTERROR")}));n.set(this.coordtext,"value",e);this.emit("get-coordinate-complete",e);this.currentClickPoint=null;this.zoomButton.parentNode.style.display="inline-block"}if(a.keyCode===
g.BACKSPACE||a.keyCode===g.DELETE)this.clear(),this.currentClickPointDD=null,this.zoomButton.parentNode.style.display="none",this.emit("coordinates-deleted",{})},getFormattedCoordinateText:function(){return this.coordtext.value},getCurrentMapCoordinate:function(){return this.currentClickPoint},getMapCoordinateDD:function(){return this.currentClickPointDD},deactivateDrawTool:function(){this.dt.deactivate();l.remove(this.drawPointButton,"drawPointBtn-active")},processCoordTextInput:function(a,e,c){var d=
e.pattern.exec(a),b,g,u,h,f,p,l,t,m,B,n=!1,k=e.name;switch(e.name){case "DD":b=d[2];g=d[7];u=d[10];h=d[16];f=d[3].replace(/[,:]/,".");p=d[11].replace(/[,:]/,".");k="DD";break;case "DDrev":b=d[11];g=d[16];u=d[2];h=d[8];f=d[12].replace(/[,:]/,".");p=d[3].replace(/[,:]/,".");k="DD";break;case "DDM":b=d[2];g=d[7];u=d[10];h=d[15];f=d[3];l=d[4].replace(/[,:]/,".");p=d[11];t=d[12].replace(/[,:]/,".");k="DDM";break;case "DDMrev":b=d[10];g=d[15];u=d[2];h=d[7];f=d[11];l=d[12].replace(/[,:]/,".");p=d[3];t=d[4].replace(/[,:]/,
".");k="DDM";break;case "DMS":b=d[2];g=d[8];u=d[11];h=d[17];f=d[3];l=d[4];m=d[5].replace(/[,:]/,".");p=d[12];t=d[13];B=d[14].replace(/[,:]/,".");k="DMS";break;case "DMSrev":b=d[11],g=d[17],u=d[2],h=d[8],f=d[12],l=d[13],m=d[14].replace(/[,:]/,"."),p=d[3],t=d[4],B=d[5].replace(/[,:]/,"."),k="DMS"}b&&g?(n=!0,b=(new RegExp(/[Ss-]/)).test(b)?"-":"+"):b=b&&(new RegExp(/[Ss-]/)).test(b)?"-":g&&(new RegExp(/[Ss-]/)).test(g)?"-":"+";u&&h?(n=!0,u=(new RegExp(/[Ww-]/)).test(u)?"-":"+"):u=u&&(new RegExp(/[Ww-]/)).test(u)?
"-":h&&(new RegExp(/[Ww-]/)).test(h)?"-":"+";n&&(c||new F({message:this.nls.latLongWarningMessage}));switch(k){case "DD":a=b+f+","+u+p;break;case "DDM":a=b+f+" "+l+","+u+p+" "+t;break;case "DMS":a=b+f+" "+l+" "+m+","+u+p+" "+t+" "+B}return a},zoomButtonWasClicked:function(){this.currentClickPointDD&&(this.parentWidget.map.getZoom()<this.zoomScale?this.parentWidget.map.centerAt(this.currentClickPointDD).then(b.hitch(this,function(){this.parentWidget.map.setScale(this.zoomScale)})):this.parentWidget.map.centerAt(this.currentClickPointDD))},
setHidden:function(a,e){h.set(a,"display","none");e&&D.destroy(a.parentNode)},setVisible:function(a){h.set(a,"display","inline-flex")},remove:function(){this.destroyRecursive();this.emit("removeCoordsControl")},mapWasClicked:function(a){this.currentClickPoint=a.mapPoint;this.getDDPoint(a.mapPoint).then(b.hitch(this,function(e){this.currentClickPointDDDD=this.currentClickPointDD=e;this.inputFromText=a.inputFromText?!0:!1;this.updateDisplay()}),b.hitch(this,function(a){console.error(a)}))},getDDPoint:function(a){var e=
new x,c=new E(3857);u.canProject(a,c)?e.resolve(u.webMercatorToGeographic(u.project(a,c))):(c={url:this.geomsrvc.url+"/findTransformations",content:{f:"json",inSR:a.spatialReference.wkid,outSR:4326,extentOfInterest:JSON.stringify(this.parentWidget.map.extent)},handleAs:"json",callbackParamName:"callback"},(new L(c,{usePost:!1})).then(b.hitch(this,function(c){c=(c=c&&c.transformations?c.transformations:void 0)&&0<c.length?c[0].wkid:void 0;var d=new M;d.outSR=new E(4326);d.geometries=[a];d.transformForward=
!0;d.transformation=c;this.geomsrvc.project(d,b.hitch(this,function(a){e.resolve(a[0])}),function(a){e.reject(a)})}),b.hitch(this,function(a){e.reject(a)})));return e},getProjectedPoint:function(a){var e=new x;if(u.canProject(a,this.parentWidget.map))e.resolve(u.geographicToWebMercator(a));else{var c={url:this.geomsrvc.url+"/findTransformations",content:{f:"json",inSR:4326,outSR:this.parentWidget.map.spatialReference.wkid,extentOfInterest:JSON.stringify(this.parentWidget.map.extent)},handleAs:"json",
callbackParamName:"callback"};(new L(c,{usePost:!1})).then(b.hitch(this,function(c){c=(c=c&&c.transformations?c.transformations:void 0)&&0<c.length?c[0].geoTransforms[0].wkid:void 0;var d=new M;d.outSR=new E(this.parentWidget.map.spatialReference);d.geometries=[a];d.transformForward=!0;d.transformation=c;this.geomsrvc.project(d,b.hitch(this,function(a){e.resolve(a[0])}),function(a){e.reject(a)})}),b.hitch(this,function(a){e.reject(a)}))}return e},expandButtonWasClicked:function(){l.toggle(this.coordcontrols,
"expanded");l.contains(this.coordcontrols,"expanded")?(l.remove(this.expandButton,"expandBtn"),l.add(this.expandButton,"collapseBtn"),n.set(this.expandButton,"aria-expanded","true")):(l.remove(this.expandButton,"collapseBtn"),l.add(this.expandButton,"expandBtn"),n.set(this.expandButton,"aria-expanded","false"));this.setSubCoordUI(l.contains(this.coordcontrols,"expanded"));this._setCoordControlsTabindex(l.contains(this.coordcontrols,"expanded"));this.emit("expandButtonClicked",l.contains(this.coordcontrols,
"expanded"))},_setCoordControlsTabindex:function(a){var e,c=[];a?(e=0,a=-1):(e=-1,a=0);c=q("input[tabindex\x3d'"+a+"']",this.coordcontrols);c=c.concat(q("span[tabindex\x3d'"+a+"']",this.coordcontrols));r.forEach(c,b.hitch(this,function(a){n.set(a,"tabindex",e)}))},formatButtonWasClicked:function(){this._frmtdlg.content.setCt(this.type);z.open({popup:this._frmtdlg,around:this.formatButton})},drawPointButtonWasClicked:function(){if(l.contains(this.drawPointButton,"drawPointBtn-active"))this.dt.deactivate(),
this.parentWidget.map.enableMapNavigation();else{this.parentWidget.map.disableMapNavigation();this.dt.activate(N.POINT);var a=this.dt._tooltip;a&&(a.innerHTML=this.drawToolTip)}l.toggle(this.drawPointButton,"drawPointBtn-active")},drawComplete:function(a){var e={};e.mapPoint=a.geometry;this.parentWidget.map.enableMapNavigation();this.mapWasClicked(e)},setSubCoordUI:function(a){if(a){a="165px";switch(this.type){case "DD":case "DMS":case "DDM":this.sub1label.innerHTML="Lat";this.sub2label.innerHTML=
"Lon";this.setHidden(this.sub3,!1);this.setHidden(this.sub4,!1);a="90px";break;case "GARS":this.sub1label.innerHTML="Lon";this.sub2label.innerHTML="Lat";this.sub3label.innerHTML="Quadrant";this.sub4label.innerHTML="Key";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "GEOREF":this.sub1label.innerHTML="15\u00b0 Quad";this.sub2label.innerHTML="1\u00b0 Quad";this.sub3label.innerHTML="Easting";this.setVisible(this.sub3);this.sub4label.innerHTML="Northing";this.setVisible(this.sub4);break;
case "USNG":case "MGRS":this.sub1label.innerHTML="GZD";this.sub2label.innerHTML="Grid Sq";this.sub3label.innerHTML="Easting";this.sub4label.innerHTML="Northing";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "UTM":this.sub1label.innerHTML="Zone";this.sub2label.innerHTML="Band";this.sub3label.innerHTML="Easting";this.sub4label.innerHTML="Northing";this.setVisible(this.sub3);this.setVisible(this.sub4);break;case "UTM_H":this.sub1label.innerHTML="Zone",this.sub2label.innerHTML="Hemisphere",
this.sub3label.innerHTML="Easting",this.sub4label.innerHTML="Northing",this.setVisible(this.sub3),this.setVisible(this.sub4)}h.set(this.coordcontrols,"display","block");h.set(this.coordcontrols,"height",a);h.set(this.coordcontrols,"width","300px")}else h.set(this.coordcontrols,"display","none"),h.set(this.coordcontrols,"height","0px");a=this.uid.split("_")[1];n.set(this["cc_"+a+"sub1val"],"aria-label",this.sub1label.innerHTML);n.set(this["cc_"+a+"sub2val"],"aria-label",this.sub2label.innerHTML);n.set(this["cc_"+
a+"sub3val"],"aria-label",this.sub3label.innerHTML);n.set(this["cc_"+a+"sub4val"],"aria-label",this.sub4label.innerHTML)},setCoordUI:function(a){var e;if(a){var c=this.uid.split("_")[1];if(!this["cc_"+c+"sub1val"]||this.input&&this.inputFromText)return;var d;d=this._frmtdlg.content.formats[this.type];d=d.useCustom?d.customFormat:d.defaultFormat;switch(this.type){case "DD":a=this.getFormattedDDStr(a,d,this.addSign);this["cc_"+c+"sub1val"].value=t.substitute("${xcrd}",{xcrd:a.latdeg});this["cc_"+c+
"sub2val"].value=t.substitute("${ycrd}",{ycrd:a.londeg});e=a.formatResult;break;case "DDM":a=this.getFormattedDDMStr(a,d,this.addSign);this["cc_"+c+"sub1val"].value=t.substitute("${latd} ${latm}",{latd:a.latdeg,latm:a.latmin});this["cc_"+c+"sub2val"].value=t.substitute("${lond} ${lonm}",{lond:a.londeg,lonm:a.lonmin});e=a.formatResult;break;case "DMS":a=this.getFormattedDMSStr(a,d,this.addSign);this["cc_"+c+"sub1val"].value=t.substitute("${latd} ${latm} ${lats}",{latd:a.latdeg,latm:a.latmin,lats:a.latsec});
this["cc_"+c+"sub2val"].value=t.substitute("${lond} ${lonm} ${lons}",{lond:a.londeg,lonm:a.lonmin,lons:a.lonsec});e=a.formatResult;break;case "USNG":a=this.getFormattedUSNGStr(a,d,!1);this["cc_"+c+"sub1val"].value=a.gzd;this["cc_"+c+"sub2val"].value=a.grdsq;this["cc_"+c+"sub3val"].value=a.easting;this["cc_"+c+"sub4val"].value=a.northing;e=a.formatResult;break;case "MGRS":a=this.getFormattedMGRSStr(a,d,!1);this["cc_"+c+"sub1val"].value=a.gzd;this["cc_"+c+"sub2val"].value=a.grdsq;this["cc_"+c+"sub3val"].value=
a.easting;this["cc_"+c+"sub4val"].value=a.northing;e=a.formatResult;break;case "GARS":a=this.getFormattedGARSStr(a,d,!1);this["cc_"+c+"sub1val"].value=a.lon;this["cc_"+c+"sub2val"].value=a.lat;this["cc_"+c+"sub3val"].value=a.quadrant;this["cc_"+c+"sub4val"].value=a.key;e=a.formatResult;break;case "GEOREF":a=this.getFormattedGEOREFStr(a,d,!1);this["cc_"+c+"sub1val"].value=a.lon+a.lat;this["cc_"+c+"sub2val"].value=a.quadrant15lon+a.quadrant15lat;this["cc_"+c+"sub3val"].value=a.quadrant1lon;this["cc_"+
c+"sub4val"].value=a.quadrant1lat;e=a.formatResult;break;case "UTM":a=this.getFormattedUTMStr(a,d,!1);a.bandLetter.match(/^[AaBbYyZz]/)?(this["cc_"+c+"sub1val"].value="",this["cc_"+c+"sub2val"].value="",this["cc_"+c+"sub3val"].value="",this["cc_"+c+"sub4val"].value="",a.formatResult=""):(this["cc_"+c+"sub1val"].value=a.zone,this["cc_"+c+"sub2val"].value=a.bandLetter,this["cc_"+c+"sub3val"].value=a.easting,this["cc_"+c+"sub4val"].value=a.westing);e=a.formatResult;break;case "UTM_H":a=this.getFormattedUTMHStr(a,
d,!1),a.hemisphere.match(/^[AaBbYyZz]/)?(this["cc_"+c+"sub1val"].value="",this["cc_"+c+"sub2val"].value="",this["cc_"+c+"sub3val"].value="",this["cc_"+c+"sub4val"].value="",a.formatResult=""):(this["cc_"+c+"sub1val"].value=a.zone,this["cc_"+c+"sub2val"].value=a.hemisphere,this["cc_"+c+"sub3val"].value=a.easting,this["cc_"+c+"sub4val"].value=a.westing),e=a.formatResult}}else e="";this.coordcontrols&&this.setSubCoordUI(l.contains(this.coordcontrols,"expanded"));this.coordtext&&(n.set(this.coordtext,
"value",e),this.emit("get-coordinate-complete",e))},getFormattedCoordinates:function(){this.getCoordValues(this.currentClickPointDD,this.type,4).then(b.hitch(this,function(a){this.setCoordUI(a)}),b.hitch(this,function(a){console.log(a)}))},updateDisplay:function(){this.currentClickPoint&&(this.currentClickPointDD||(this.currentClickPointDD=this.currentClickPoint),this.getFormattedCoordinates(this.currentClickPointDD),this.input&&(null!==this.graphicsLayer&&(this.graphicsLayer.clear(),this.currentClickPoint.spatialReference.wkid===
this.parentWidget.map.spatialReference.wkid?this.graphicsLayer.add(new K(this.currentClickPoint)):this.getProjectedPoint(this.currentClickPointDD).then(b.hitch(this,function(a){this.graphicsLayer.add(new K(a))}),b.hitch(this,function(a){console.error(a)}))),m.publish("INPUTPOINTDIDCHANGE",{mapPoint:this.currentClickPointDD,inputFromText:!0}),this.zoomButton.parentNode.style.display="inline-block"))},clear:function(){this.coordtext.value="";this.currentClickPointDDDD=this.currentClickPointDD=this.currentClickPoint=
null;this.graphicsLayer.clear()},inputError:function(){this.setCoordUI()},getCleanInput:function(a){a=a.replace(/\n/g,"");a=a.replace(/\s+/g," ").trim();return a.toUpperCase()},getCoordValues:function(a,e,c){var d=new x;a={sr:4326,coordinates:[[a.x,a.y]],conversionType:e.name?e.name:e,numOfDigits:c||6,rounding:!0,addSpaces:!1};switch(e){case "DD":a.numOfDigits=6;break;case "USNG":a.numOfDigits=5;break;case "MGRS":a.conversionMode="mgrsDefault";a.numOfDigits=5;break;case "UTM_H":a.conversionType="utm";
a.conversionMode="utmNorthSouth";a.addSpaces=!0;break;case "UTM":a.conversionType="utm";a.conversionMode="utmDefault";a.addSpaces=!0;break;case "GARS":a.conversionMode="garsDefault"}this.geomsrvc.toGeoCoordinateString(a).then(function(a){d.resolve(a)},function(){d.resolve(null)});return d.promise},getXYNotation:function(a,e){var c=new x,d;d=e.name?e.name:e;e={sr:4326,conversionType:d,strings:[]};switch(d){case "DD":case "DDM":case "DMS":e.numOfDigits=2;a=a.replace(/[\u00b0\u02da\u00ba^~*"'\u2032\u00a8\u02dd]/g,
"");e.strings.push(a);break;case "DDrev":e.conversionType="DD";e.numOfDigits=2;a=a.replace(/[\u00b0\u02da\u00ba^~*"'\u2032\u00a8\u02dd]/g,"");e.strings.push(a);break;case "DDMrev":e.conversionType="DDM";e.numOfDigits=2;a=a.replace(/[\u00b0\u02da\u00ba^~*"'\u2032\u00a8\u02dd]/g,"");e.strings.push(a);break;case "DMSrev":e.conversionType="DMS";e.numOfDigits=2;a=a.replace(/[\u00b0\u02da\u00ba^~*"'\u2032\u00a8\u02dd]/g,"");e.strings.push(a);break;case "USNG":e.strings.push(a);e.addSpaces="false";break;
case "MGRS":e.conversionMode="mgrsNewStyle";e.strings.push(a);e.addSpaces="false";break;case "UTM_H":e.conversionType="utm";e.conversionMode="utmNorthSouth";e.strings.push(a);break;case "UTM":e.conversionType="utm";e.conversionMode="utmDefault";e.strings.push(a);break;case "GARS":e.conversionMode="garsCenter";e.strings.push(a);break;case "GEOREF":e.strings.push(a)}this.geomsrvc.fromGeoCoordinateString(e).then(function(a){c.resolve(a)},function(){c.resolve(null)});return c.promise},getNotations:function(){return[{name:"DD",
pattern:new RegExp([/^(([NS\+\-\s])*([0-8]?\d([,.]\d*)?|90([,.]0*)?)([\u00b0\u02da\u00ba^~*]*)([NS\+\-\s])*)([,:;\s|\/\\]+)/,/(([EW\+\-\s])*([0]?\d?\d([,.]\d*)?|1[0-7]\d([,.]\d*)?|180([,.]0*)?)([\u00b0\u02da\u00ba^~*]*)([EW\+\-\s])*)$/].map(function(a){return a.source}).join("")),notationType:this.nls.DDLatLongNotation,conversionType:"DD"},{name:"DDrev",pattern:new RegExp([/^(([EW\+\-\s])*([0]?\d?\d([,.]\d*)?|1[0-7]\d([,.]\d*)?|180([,.]0*)?)([\u00b0\u02da\u00ba^~*]*)([EW\+\-\s])*)/,/([,:;\s|\/\\]+)(([NS\+\-\s])*([0-8]?\d([,.]\d*)?|90([,.]0*)?)([\u00b0\u02da\u00ba^~*]*)([NS\+\-\s])*)$/].map(function(a){return a.source}).join("")),
notationType:this.nls.DDLongLatNotation,conversionType:"DD"},{name:"DDM",pattern:new RegExp([/^(([NS\+\-\s])*([0-8]?\d|90)[\u00b0\u02da\u00ba^~*\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)['\u2032\s_]*([NS\+\-\s])*)/,/([,:;\s|\/\\]+)/,/(([EW\+\-\s])*([0]?\d?\d|1[0-7]\d|180)[\u00b0\u02da\u00ba^~*\s\-_]+(([0-5]\d|\d)([,.]\d*)?)['\u2032\s_]*([EW\+\-\s])*)/,/[\s]*$/].map(function(a){return a.source}).join("")),notationType:this.nls.DDMLatLongNotation,conversionType:"DDM"},{name:"DDMrev",pattern:new RegExp([/^(([EW\+\-\s])*([0]?\d?\d|1[0-7]\d|180)[\u00b0\u02da\u00ba^~*\s\-_]+(([0-5]\d|\d)([,.]\d*)?)['\u2032\s_]*([EW\+\-\s])*)/,
/([,:;\s|\/\\]+)/,/(([NS\+\-\s])*([0-8]?\d|90)[\u00b0\u02da\u00ba^~*\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)['\u2032\s_]*([NS\+\-\s])*)[\s]*$/].map(function(a){return a.source}).join("")),notationType:this.nls.DDMLongLatNotation,conversionType:"DDM"},{name:"DMS",pattern:new RegExp([/^(([NS\+\-\s])*([0-8]?\d|90)[\u00b0\u02da\u00ba^~*\s\-_]+([0-5]?\d|\d)['\u2032\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)["\u00a8\u02dd\s_]*([NS\+\-\s])*)/,/([,:;\s|\/\\]+)/,/(([EW\+\-\s])*([0]?\d?\d|1[0-7]\d|180)[\u00b0\u02da\u00ba^~*\s\-_]+([0-5]\d|\d)['\u2032\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)["\u00a8\u02dd\s_]*([EW\+\-\s])*)[\s]*$/].map(function(a){return a.source}).join("")),
notationType:this.nls.DMSLatLongNotation,conversionType:"DMS"},{name:"DMSrev",pattern:new RegExp([/^(([EW\+\-\s])*([0]?\d?\d|1[0-7]\d|180)[\u00b0\u02da\u00ba^~*\s\-_]+([0-5]\d|\d)['\u2032\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)["\u00a8\u02dd\s_]*([EW\+\-\s])*)/,/([,:;\s|\/\\]+)/,/(([NS\+\-\s])*([0-8]?\d|90)[\u00b0\u02da\u00ba^~*\s\-_]+([0-5]?\d|\d)['\u2032\s\-_]+(([0-5]?\d|\d)([,.]\d*)?)["\u00a8\u02dd\s_]*([NS\+\-\s])*)[\s]*$/].map(function(a){return a.source}).join("")),notationType:this.nls.DMSLongLatNotation,
conversionType:"DMS"},{name:"GARS",pattern:/^\d{3}[a-zA-Z]{2}[1-4]?[1-9]?$/,notationType:this.nls.GARSNotation,conversionType:"GARS"},{name:"GEOREF",pattern:/^[a-zA-Z]{4}\d{1,8}$/,notationType:this.nls.GEOREFNotation,conversionType:"GEOREF"},{name:"MGRS",pattern:new RegExp([/^\d{1,2}[-,;:\s]*[C-HJ-NP-X][-,;:\s]*[A-HJ-NP-Z]{2}[-,;:\s]*/,/(\d[-,;:\s]+\d|\d{2}[-,;:\s]+\d{2}|\d{3}[-,;:\s]+\d{3}|\d{4}[-,;:\s]+\d{4}|\d{5}[-,;:\s]+\d{5})/,/$|^(\d{1,2}[-,;:\s]*[C-HJ-NP-X][-,;:\s]*[A-HJ-NP-Z]{2}[-,;:\s]*)/,
/(\d{2}|\d{4}|\d{6}|\d{8}|\d{10})?$|^[ABYZ][-,;:\s]*[A-HJ-NP-Z]{2}[-,;:\s]*/,/(\d[-,;:\s]+\d|\d{2}[-,;:\s]+\d{2}|\d{3}[-,;:\s]+\d{3}|\d{4}[-,;:\s]+\d{4}|\d{5}[-,;:\s]+\d{5})/,/$|^[ABYZ][-,;:\s]*[A-HJ-NP-Z]{2}[-,;:\s]*(\d{2}|\d{4}|\d{6}|\d{8}|\d{10})?$/].map(function(a){return a.source}).join("")),notationType:this.nls.MGRSNotation,conversionType:"MGRS"},{name:"UTM",pattern:new RegExp([/^\d{1,2}[-,;:\s]*[c-hj-np-xC-HJ-NP-X][-,;:\s]*\d{1,6}\.?\d*[mM]?[-,;:\s]?\d{1,7}\.?\d*[mM]?$/].map(function(a){return a.source}).join("")),
notationType:this.nls.UTMBandNotation,conversionType:"UTM"},{name:"UTM (H)",pattern:new RegExp([/^\d{1,2}[-,;:\s]*[NnSs][-,;:\s]*\d{1,6}\.?\d*[mM]?[-,;:\s]+\d{1,7}\.?\d*[mM]?$/].map(function(a){return a.source}).join("")),notationType:this.nls.UTMHemNotation,conversionType:"UTM_H"}]},getCoordinateType:function(a){var e=this.getCleanInput(a);a=new x;var c=this.getNotations(),e=r.filter(c,function(a){return a.pattern.test(this.v)},{v:e});0<e.length?a.resolve(e):a.resolve(null);return a.promise},getFormattedDDStr:function(a,
e,c){var d={};d.sourceValue=a;d.sourceFormatString=e;a=a[0].split(/[ ,]+/);d.latdeg=a[0].replace(/[nNsS]/,"");d.londeg=a[1].replace(/[eEwW]/,"");c&&("N"===a[0].slice(-1)?d.latdeg="+"+d.latdeg:d.latdeg="-"+d.latdeg,"W"===a[1].slice(-1)?d.londeg="-"+d.londeg:d.londeg="+"+d.londeg);e=e.replace(/X/,d.londeg);e=e.replace(/[eEwW]/,a[1].slice(-1));e=e.replace(/[nNsS]/,a[0].slice(-1));e=e.replace(/Y/,d.latdeg);d.formatResult=e;return d},getFormattedDDMStr:function(a,e,c){var d={};d.sourceValue=a;d.sourceFormatString=
e;d.parts=a[0].split(/[ ,]+/);d.latdeg=d.parts[0];d.latmin=d.parts[1].replace(/[nNsS]/,"");d.londeg=d.parts[2];d.lonmin=d.parts[3].replace(/[eEwW]/,"");c&&("N"===d.parts[1].slice(-1)?d.latdeg="+"+d.latdeg:d.latdeg="-"+d.latdeg,"W"===d.parts[3].slice(-1)?d.londeg="-"+d.londeg:d.londeg="+"+d.londeg);a=e.replace(/[EeWw]/,d.parts[3].slice(-1));a=a.replace(/Y/,d.lonmin);a=a.replace(/X/,d.londeg);a=a.replace(/[NnSs]/,d.parts[1].slice(-1));a=a.replace(/B/,d.latmin);a=a.replace(/A/,d.latdeg);d.formatResult=
a;return d},getFormattedDMSStr:function(a,e,c){var d={};d.sourceValue=a;d.sourceFormatString=e;d.parts=a[0].split(/[ ,]+/);d.latdeg=d.parts[0];d.latmin=d.parts[1];d.latsec=d.parts[2].replace(/[NnSs]/,"");d.londeg=d.parts[3];d.lonmin=d.parts[4];d.parts[5]&&(d.lonsec=d.parts[5].replace(/[EWew]/,""));c&&("N"===d.parts[2].slice(-1)?d.latdeg="+"+d.latdeg:d.latdeg="-"+d.latdeg,"W"===d.parts[5].slice(-1)?d.londeg="-"+d.londeg:d.londeg="+"+d.londeg);a=e.replace(/A/,d.latdeg);a=a.replace(/B/,d.latmin);a=a.replace(/C/,
d.latsec);a=a.replace(/X/,d.londeg);a=a.replace(/Y/,d.lonmin);a=a.replace(/Z/,d.lonsec);a=a.replace(/[NnSs]/,d.parts[2].slice(-1));d.parts[5]&&(a=a.replace(/[EeWw]/,d.parts[5].slice(-1)));d.formatResult=a;return d},getFormattedUSNGStr:function(a,e){var c={};c.sourceValue=a;c.sourceFormatString=e;a[0].match(/^[ABYZ]/)?c.gzd=a[0].match(/[ABYZ]/)[0].trim():c.gzd=a[0].match(/\d{1,2}[C-HJ-NP-X]/)[0].trim();a[0].replace(c.gzd,"").match(/[a-hJ-zA-HJ-Z]{2}/)&&(c.grdsq=a[0].replace(c.gzd,"").match(/[a-hJ-zA-HJ-Z]{2}/)[0].trim());
a[0].replace(c.gzd+c.grdsq,"").match(/^\d{1,5}/)&&(c.easting=a[0].replace(c.gzd+c.grdsq,"").match(/^\d{1,5}/)[0].trim());a[0].replace(c.gzd+c.grdsq,"").match(/\d{1,5}$/)&&(c.northing=a[0].replace(c.gzd+c.grdsq,"").match(/\d{1,5}$/)[0].trim());a=e.replace(/Y/,c.northing);a=a.replace(/X/,c.easting);a=a.replace(/S/,c.grdsq);a=a.replace(/Z/,c.gzd);c.formatResult=a;return c},getFormattedMGRSStr:function(a,e){var c={};c.sourceValue=a;c.sourceFormatString=e;a[0].match(/^[ABYZ]/)?c.gzd=a[0].match(/[ABYZ]/)[0].trim():
c.gzd=a[0].match(/\d{1,2}[C-HJ-NP-X]/)[0].trim();c.grdsq=a[0].replace(c.gzd,"").match(/[a-hJ-zA-HJ-Z]{2}/)[0].trim();c.easting=a[0].replace(c.gzd+c.grdsq,"").match(/^\d{1,5}/)[0].trim();c.northing=a[0].replace(c.gzd+c.grdsq,"").match(/\d{1,5}$/)[0].trim();a=e.replace(/Y/,c.northing);a=a.replace(/X/,c.easting);a=a.replace(/S/,c.grdsq);a=a.replace(/Z/,c.gzd);c.formatResult=a;return c},getFormattedGARSStr:function(a,e){var c={};c.sourceValue=a;c.sourceFormatString=e;c.lon=a[0].match(/\d{3}/);c.lat=a[0].match(/[a-zA-Z]{2}/);
a=a[0].match(/\d*$/);c.quadrant=a[0][0];c.key=a[0][1];e=e.replace(/K/,c.key);e=e.replace(/Q/,c.quadrant);e=e.replace(/Y/,c.lat);e=e.replace(/X/,c.lon);c.formatResult=e;return c},getFormattedGEOREFStr:function(a,e){var c={};c.sourceValue=a;c.sourceFormatString=e;c.lon=a[0].match(/[a-zA-Z]{1}/)[0].trim();c.lat=a[0].replace(c.lon,"").match(/[a-zA-Z]{1}/)[0].trim();c.quadrant15lon=a[0].replace(c.lon+c.lat,"").match(/[a-zA-Z]{1}/)[0].trim();c.quadrant15lat=a[0].replace(c.lon+c.lat+c.quadrant15lon,"").match(/[a-zA-Z]{1}/)[0].trim();
a=a[0].replace(c.lon+c.lat+c.quadrant15lon+c.quadrant15lat,"");c.quadrant1lon=a.substr(0,a.length/2);c.quadrant1lat=a.substr(a.length/2,a.length);e=e.replace(/Y/,c.quadrant1lat);e=e.replace(/X/,c.quadrant1lon);e=e.replace(/D/,c.quadrant15lat);e=e.replace(/C/,c.quadrant15lon);e=e.replace(/B/,c.lat);e=e.replace(/A/,c.lon);c.formatResult=e;return c},getFormattedUTMStr:function(a,e){var c={};c.sourceValue=a;c.sourceFormatString=e;c.parts=a[0].split(/[ ,]+/);c.zone=c.parts[0].replace(/[A-Z]/,"");c.bandLetter=
c.parts[0].slice(-1);c.easting=c.parts[1];c.westing=c.parts[2];a=e.replace(/Y/,c.westing);a=a.replace(/X/,c.easting);a=a.replace(/B/,c.bandLetter);a=a.replace(/Z/,c.zone);c.formatResult=a;return c},getFormattedUTMHStr:function(a,e){var c={};c.sourceValue=a;c.sourceFormatString=e;c.parts=a[0].split(/[ ,]+/);c.zone=c.parts[0].replace(/[A-Z]/,"");c.hemisphere=c.parts[0].slice(-1);c.easting=c.parts[1];c.westing=c.parts[2];a=e.replace(/Y/,c.westing);a=a.replace(/X/,c.easting);a=a.replace(/H/,c.hemisphere);
a=a.replace(/Z/,c.zone);c.formatResult=a;return c}})})},"jimu/dijit/_CoordinateControlFormatNotation":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/on dojo/dom-attr dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/formSelect jimu/dijit/CheckBox".split(" "),function(v,r,b,f,k,q,n,l){return v([q,n,l],{baseClass:"jimu-coordinate-control",templateString:'\x3cdiv\x3e\x3cspan class\x3d"formatText"\x3e${nls.editCoordinateDialogTitle}\x3c/span\x3e\x3cdiv class\x3d"controlContainer"\x3e\x3cselect tabindex\x3d"0" class\x3d"selectFormat" data-dojo-attach-point\x3d"frmtSelect" aria-label\x3d"${nls.editCoordinateDialogTitle}" data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\x3cinput tabindex\x3d"0" type\x3d"text" data-dojo-attach-point\x3d"frmtVal" class\x3d"formatInput"\x3e\x3c/input\x3e\x3cdiv class\x3d"settingsContainer" data-dojo-attach-point\x3d"prefixContainer"\x3e\x3cdiv class\x3d"formatText" data-dojo-attach-point\x3d"addSignChkBox" label\x3d"${nls.posNegPrefixLabel}" data-dojo-type\x3d"jimu/dijit/CheckBox"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"btnContainer"\x3e\x3cdiv tabindex\x3d"0" role\x3d"button" aria-label\x3d"${nls.applyButtonLabel}" data-dojo-attach-point\x3d"applyButton" class\x3d"jimu-btn"\x3e${nls.applyButtonLabel}\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"cancelButton" tabindex\x3d"0" role\x3d"button" aria-label\x3d"${nls.cancelButtonLabel}" class\x3d"jimu-btn formatCoordCancelButton"\x3e${nls.cancelButtonLabel}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
isCanceled:!1,formats:{},setCt:function(b){this.ct=b;this.frmtSelect.set("value",this.ct)},postCreate:function(){this.formats={DD:{defaultFormat:"YN XE",customFormat:null,useCustom:!1},DDM:{defaultFormat:"A\u00b0 B'N X\u00b0 Y'E",customFormat:null,useCustom:!1},DMS:{defaultFormat:"A\u00b0 B' C\"N X\u00b0 Y' Z\"E",customFormat:null,useCustom:!1},GARS:{defaultFormat:"XYQK",customFormat:null,useCustom:!1},GEOREF:{defaultFormat:"ABCDXY",customFormat:null,useCustom:!1},MGRS:{defaultFormat:"ZSXY",customFormat:null,
useCustom:!1},USNG:{defaultFormat:"ZSXY",customFormat:null,useCustom:!1},UTM:{defaultFormat:"ZB X Y",customFormat:null,useCustom:!1},UTM_H:{defaultFormat:"ZH X Y",customFormat:null,useCustom:!1}};var b=[],l,m;for(m in this.formats)l={value:m,label:this.nls.notations[m]},b.push(l);this.frmtSelect.addOption(b);k.set(this.frmtVal,"value",this.formats[this.ct].defaultFormat);this.own(f(this.frmtSelect,"change",r.hitch(this,this.frmtSelectValueDidChange)));this.own(f(this.frmtVal,"change",r.hitch(this,
this.formatValDidChange)));this.own(f(this.cancelButton,"click",r.hitch(this,function(){this.isCanceled=!0})));this.own(f(this.applyButton,"click",r.hitch(this,function(){this.isCanceled=!1})));this.displayPrefixContainer()},formatValDidChange:function(){var b=k.get(this.frmtVal,"value"),f=this.frmtSelect.get("value");this.formats[f].customFormat=b;this.formats[f].useCustom=!0},frmtSelectValueDidChange:function(b){var f=this.formats[b].useCustom?this.formats[b].customFormat:this.formats[b].defaultFormat;
this.ct=b;k.set(this.frmtVal,"value",f);this.displayPrefixContainer()},displayPrefixContainer:function(){switch(this.ct){case "DD":case "DDM":case "DMS":b.set(this.prefixContainer,{display:""});break;default:b.set(this.prefixContainer,{display:"none"})}}})})},"jimu/dijit/_CoordinateControlConfirmNotation":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/aspect dojo/keys dojo/query dijit/Dialog dijit/form/Select dojo/_base/lang".split(" "),
function(v,r,b,f,k,q,n,l,h,t,m){return v([h],{baseClass:"jimu-coordinate-control",numberOfInputs:0,selectOptions:{},comboOptions:{},dfd:null,constructor:function(b){m.mixin(this,b);this.numberOfInputs=b.options.length;this.selectOptions=b.options},postCreate:function(){this.inherited("postCreate",arguments);this.closable=!1;this.closeButtonNode.style.display="none";"DartTheme"===this.theme&&k.add(this.containerNode,"coordinateControlDialog");this.message=f.create("div",{style:"margin-bottom: 5px"},
this.containerNode,"first");this.message.innerHTML=this.numberOfInputs+" "+this.nls.multipleNotationLabel;this.comboOptions=new t({style:{width:"99%"},"aria-label":this.numberOfInputs+" "+this.nls.multipleNotationLabel},f.create("div",{},this.containerNode,"last"));this.own(q.after(this.comboOptions,"onChange",b.hitch(this,this._onComboOptionsChanged)));for(var g=0;g<this.selectOptions.length;g++)this.comboOptions.addOption({value:this.selectOptions[g].name,label:this.selectOptions[g].notationType});
this.buttonDiv=f.create("div",{"class":"buttonContainer",style:"margin-top:10px;"+(window.isRTL?"text-align:left":"text-align:right")},this.containerNode,"last");this.okButton=f.create("div",{innerHTML:this.nls.applyButtonLabel,"class":"jimu-btn",role:"button",tabindex:"0","aria-label":this.nls.applyButtonLabel,onclick:m.hitch(this,function(){this.hide();this.dfd.resolve()}),onkeypress:m.hitch(this,function(b){if(b.keyCode===n.ENTER||b.keyCode===n.SPACE)this.hide(),this.dfd.resolve()})},this.buttonDiv,
"first");this.cancelButton=f.create("div",{innerHTML:this.nls.cancelButtonLabel,"class":"jimu-btn",style:"margin: 0 5px 0 5px",role:"button",tabindex:"0","aria-label":this.nls.cancelButtonLabel,onclick:m.hitch(this,function(){this.hide();this.dfd.cancel()}),onkeypress:m.hitch(this,function(b){if(b.keyCode===n.ENTER||b.keyCode===n.SPACE)this.hide(),this.dfd.cancel()})},this.buttonDiv,"last")},show:function(){this.inherited("show",arguments);this.dfd=new r;var b=this._getDOMElement(".dijitSelectLabel",
this.comboOptions.domNode);b&&k.add(b,"dijitSelectLabelConfirmNotation");return this.dfd},_onComboOptionsChanged:function(){var b=this._getDOMElement(".dijitSelectLabel",this.comboOptions.domNode);b&&k.add(b,"dijitSelectLabelConfirmNotation")},_getDOMElement:function(b,f){return(b=l(b,f))&&1===b.length?b[0]:null}})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(v,r,b,f){return v("dijit.form.Textarea",[f,b],
{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);r.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(v,r,b,f,k,q,n){b.add("textarea-needs-help-shrinking",
function(){var b=q.body(),f=r.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},b,"last"),k=f.scrollHeight>=f.clientHeight;b.removeChild(f);return k});return v("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);
this.resize()},postCreate:function(){this.inherited(arguments);var b=this.textbox;b.style.overflowY="hidden";this.own(k(b,"focus, resize",f.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(n.on("resize",f.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(b){this.inherited(arguments);this.resize()},_estimateHeight:function(){var b=this.textbox;b.rows=(b.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function f(){var b=
!1;""===h.value&&(h.value=" ",b=!0);var f=h.scrollHeight;b&&(h.value="");return f}var h=this.textbox;"hidden"==h.style.overflowY&&(h.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(f()||h.offsetHeight){var k=f()+Math.max(h.offsetHeight-h.clientHeight,0),m=k+"px";m!=h.style.height&&(h.style.height=m,h.rows=1);if(b("textarea-needs-help-shrinking")){var g=f(),n=h.style.minHeight,q=4,r=h.scrollTop;h.style.minHeight=m;for(h.style.height="auto";0<k;){h.style.minHeight=Math.max(k-q,4)+"px";m=
f();g-=m;k-=g;if(g<q)break;g=m;q<<=1}h.style.height=k+"px";h.style.minHeight=n;h.scrollTop=r}h.style.overflowY=f()>h.clientHeight?"auto":"hidden";"hidden"==h.style.overflowY&&(h.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(v,r,b,f,k,q,n,l,h,t,m,g,x,A,C,D,w,y,p,B,G,H,I,z,J){p=f("dijit._InlineEditor",[y,p,B],{templateString:J,contextRequire:v,postMixInProperties:function(){this.inherited(arguments);this.messages=h.getLocalization("dijit","common",this.lang);r.forEach(["buttonSave","buttonCancel"],function(b){this[b]||(this[b]=this.messages[b])},this)},buildRendering:function(){this.inherited(arguments);var b="string"==typeof this.editor?g.getObject(this.editor)||v(this.editor):this.editor,f=this.sourceStyle,
p="line-height:"+f.lineHeight+";",h=l.getComputedStyle(this.domNode);r.forEach(["Weight","Family","Size","Style"],function(b){h["font"+b]!=f["font"+b]&&(p+="font-"+b+":"+f["font"+b]+";")},this);r.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(b){this.domNode.style[b]=f[b]},this);var k=this.inlineEditBox.width;"100%"==k?(p+="width:100%;",this.domNode.style.display="block"):p+="width:"+(k+(Number(k)==k?"px":""))+";";k=g.delegate(this.inlineEditBox.editorParams,
{style:p,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new b(k,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,n.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var f=this.editWidget;this.inlineEditBox.autoSave?this.own(b.after(f,"onChange",g.hitch(this,"_onChange"),!0),x(f,"keydown",g.hitch(this,"_onKeyDown"))):"intermediateChanges"in f&&(f.set("intermediateChanges",
!0),this.own(b.after(f,"onChange",g.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var b=this.editWidget;return String(b.get("displayedValue"in b||"_getDisplayedValueAttr"in b?"displayedValue":
"value"))},_onKeyDown:function(b){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&!b.altKey&&!b.ctrlKey&&(b.keyCode==m.ESCAPE?(b.stopPropagation(),b.preventDefault(),this.cancel(!0)):b.keyCode==m.ENTER&&"INPUT"==b.target.tagName&&(b.stopPropagation(),b.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
this.inlineEditBox.editing&&this.enableSave()&&w.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(w._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){I.selectInputText(this.editWidget.focusNode)}))}});y=f("dijit.InlineEditBox"+(A("dojo-bidi")?"_NoBidi":""),y,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:z,editorWrapper:p,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=A("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(x(this.displayNode,D,g.hitch(this,"_onClick")),x(this.displayNode,"mouseover, focus",g.hitch(this,"_onMouseOver")),x(this.displayNode,"mouseout, blur",g.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);this.value||"value"in this.params||(this.value=g.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);q.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(b){t.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",b)},_setDisabledAttr:function(b){this.domNode.setAttribute("aria-disabled",b?"true":"false");b?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);q.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",b);this._set("disabled",b)},_onMouseOver:function(){this.disabled||q.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){q.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(b){this.disabled||(b&&(b.stopPropagation(),b.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
k.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var b=n.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?g.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:l.getComputedStyle(this.displayNode),save:g.hitch(this,"save"),cancel:g.hitch(this,"cancel"),
textDir:this.textDir},b);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var f=this.wrapperWidget;q.add(this.displayNode,"dijitOffScreen");q.remove(f.domNode,"dijitOffScreen");l.set(f.domNode,{visibility:"visible"});k.set(this.displayNode,"tabIndex","-1");var p=f.editWidget,h=this;C(p.onLoadDeferred,g.hitch(f,function(){p.set("displayedValue"in p||"_setDisplayedValueAttr"in p?"displayedValue":"value",h.value);this.defer(function(){f.saveButton&&f.saveButton.set("disabled",
"intermediateChanges"in p);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(b){var f=this.wrapperWidget;l.set(f.domNode,{visibility:"hidden"});q.add(f.domNode,"dijitOffScreen");q.remove(this.displayNode,"dijitOffScreen");k.set(this.displayNode,"tabIndex",this._savedTabIndex);b&&
w.focus(this.displayNode)},save:function(b){if(!this.disabled&&this.editing){this._set("editing",!1);var f=this.wrapperWidget.getValue();this.set("value",f);this._showText(b)}},setValue:function(b){t.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(b){b=g.trim(b);var f=this.renderAsHtml?b:b.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=this.editorParams&&"password"===this.editorParams.type?"********":f||this.noValueIndicator;this._set("value",b);this._started&&this.defer(function(){this.onChange(b)})},getValue:function(){t.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(b){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(b))}});A("dojo-bidi")&&(y=f("dijit.InlineEditBox",
y,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.displayNode)}}));y._InlineEditor=p;return y})},"widgets/CoordinateConversion/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:jimu/dijit/templates/CoordinateControl.html":"\x3cdiv class\x3d'coordinateContainer'\x3e\r\n  \x3cdiv class\x3d'coordLabel' data-dojo-attach-point\x3d'coordNameContainer' data-a11y-label-id\x3d'coordLabel'\x3e\r\n    \x3cspan data-dojo-type\x3d'dijit/InlineEditBox' width\x3d'75px' data-dojo-props\x3d\"editor:'dijit/form/TextBox', autoSave:true\"\r\n      data-dojo-attach-point\x3d'coordName'\x3e${type}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d'add-with-icon coordInput'\x3e\r\n    \x3ctextarea data-a11y-label-by\x3d'coordLabel' tabindex\x3d\"0\" aria-multiline\x3d\"true\" role\x3d\"textbox\" id\x3d'${uid}' type\x3d'text' rows\x3d'1' class\x3d'ta' data-dojo-attach-point\x3d'coordtext' spellcheck\x3d'false'\r\n    placeholder\x3d'${nls.coordinateInputLabel}'\x3e\x3c/textarea\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d'coordactions'\x3e\r\n    \x3cdiv class\x3d'add-with-icon'\x3e\r\n      \x3cspan tabindex\x3d\"0\" role\x3d\"button\" id\x3d'${uid}_cpbtn' aria-label\x3d'${nls.copyToClipboard}' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d'cpbtn' class\x3d'cpbtn'\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d'add-with-icon'\x3e\r\n      \x3cspan tabindex\x3d\"0\" role\x3d\"button\" title\x3d\"${nls.formatOutput}\" class\x3d'settingBtn' data-dojo-attach-point\x3d'formatButton'\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d'add-with-icon'\x3e\r\n      \x3cspan tabindex\x3d\"0\" role\x3d\"button\" aria-label\x3d'${nls.zoomLabel}' title\x3d'${nls.zoomLabel}' class\x3d'zoomBtn' data-dojo-attach-point\x3d'zoomButton'\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d'add-with-icon'\x3e\r\n      \x3cspan tabindex\x3d\"0\" role\x3d\"button\" aria-label\x3d'${nls.addPointLabel}' title\x3d'${nls.addPointLabel}' class\x3d'drawPointBtn' data-dojo-attach-point\x3d'drawPointButton'\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d'add-with-icon'\x3e\r\n      \x3cspan tabindex\x3d\"0\" role\x3d\"button\" aria-label\x3d'${nls.removeCoordinate}' title\x3d'${nls.removeCoordinate}' class\x3d'jimu-icon jimu-icon-close' data-dojo-attach-point\x3d'removeControlBtn'\r\n        data-dojo-attach-event\x3d'onclick: remove'\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d'add-with-icon'\x3e\r\n      \x3cspan tabindex\x3d\"0\" role\x3d\"button\" aria-label\x3d\"${nls.expandOutput}\" aria-expanded \x3d \"false\" title\x3d\"${nls.expandOutput}\" class\x3d'expandBtn' data-dojo-attach-point\x3d'expandButton'\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d'coordcontrols' class\x3d'coordarea' style\x3d\"display: none\"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d'sub1' class\x3d'coordformat'\x3e\r\n      \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n        \x3cspan data-dojo-attach-point\x3d'sub1label' data-a11y-label-id\x3d'sub1Label'/\x3e\r\n      \x3c/div\x3e\r\n      \x3cinput data-a11y-label-by\x3d'sub1Label' tabindex\x3d\"-1\" role\x3d\"textbox\" readonly data-dojo-attach-point\x3d'${uid}sub1val' class\x3d'jimu-input crds'\x3e\x3c/input\x3e\r\n      \x3cdiv class\x3d'add-with-icon'\x3e\r\n        \x3cspan tabindex\x3d\"-1\" role\x3d\"button\" id\x3d'${uid}sub1val~cpbtn' aria-label\x3d'${nls.copyToClipboard}' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d'subVal1CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d'sub2' class\x3d'coordformat'\x3e\r\n      \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n        \x3cspan data-dojo-attach-point\x3d'sub2label' data-a11y-label-id\x3d'sub2Label'/\x3e\r\n      \x3c/div\x3e\r\n      \x3cinput data-a11y-label-by\x3d'sub2Label' tabindex\x3d\"-1\" role\x3d\"textbox\" readonly data-dojo-attach-point\x3d'${uid}sub2val' class\x3d'jimu-input crds'\x3e\x3c/input\x3e\r\n      \x3cdiv class\x3d'add-with-icon'\x3e\r\n        \x3cspan tabindex\x3d\"-1\" role\x3d\"button\" id\x3d'${uid}sub2val~cpbtn' aria-label\x3d'${nls.copyToClipboard}' title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d'subVal2CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d'sub3' class\x3d'coordformat sub3'\x3e\r\n      \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n        \x3cspan data-dojo-attach-point\x3d'sub3label' data-a11y-label-id\x3d'sub3Label'/\x3e\r\n      \x3c/div\x3e\r\n      \x3cinput data-a11y-label-by\x3d'sub3Label' tabindex\x3d\"-1\" role\x3d\"textbox\" readonly data-dojo-attach-point\x3d'${uid}sub3val' class\x3d'jimu-input crds'\x3e\r\n      \x3c/input\x3e\r\n      \x3cdiv class\x3d'add-with-icon'\x3e\r\n        \x3cspan tabindex\x3d\"-1\" role\x3d\"button\" id\x3d'${uid}sub3val~cpbtn' aria-label\x3d'$${nls.copyToClipboard}' title\x3d'$${nls.copyToClipboard}' data-dojo-attach-point\x3d'subVal3CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d'sub4' class\x3d'coordformat sub4'\x3e\r\n      \x3cdiv class\x3d'crdfrmtlabel'\x3e\r\n        \x3cspan data-dojo-attach-point\x3d'sub4label' data-a11y-label-id\x3d'sub4Label' /\x3e\r\n      \x3c/div\x3e\r\n      \x3cinput data-a11y-label-by\x3d'sub4Label' tabindex\x3d\"-1\" role\x3d\"textbox\" readonly data-dojo-attach-point\x3d'${uid}sub4val' class\x3d'jimu-input crds'\x3e\r\n      \x3c/input\x3e\r\n      \x3cdiv class\x3d'add-with-icon'\x3e\r\n        \x3cspan tabindex\x3d\"-1\" role\x3d\"button\" id\x3d'${uid}sub4val~cpbtn' aria-label\x3d'${nls.copyToClipboard} title\x3d'${nls.copyToClipboard}' data-dojo-attach-point\x3d'subVal4CpBtn' class\x3d'jimu-icon cpbtn'\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d\"line-separator\"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e",
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\r\n\t\x3e\x3c/span\r\n\x3e\x3c/span\x3e\r\n',
"url:widgets/CoordinateConversion/Widget.html":"\x3cdiv\x3e\r\n  \x3cdiv class\x3d'inputcontainer' data-dojo-attach-point\x3d'inputcoordcontainer'\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d'outputcontainer' data-dojo-attach-point\x3d'outputtablecontainer'\x3e\r\n    \x3cspan class\x3d'jimu-widget-subtitle'\x3e${nls.outputLabel}\x3c/span\x3e\r\n    \x3cdiv tabindex\x3d\"0\" class\x3d'addNewNotationContainer' role\x3d\"button\" aria-label\x3d'${nls.addNewNotation}' title\x3d'${nls.addNewNotation}' data-dojo-attach-point\x3d'addNewNotationDiv'\r\n      data-dojo-attach-event\x3d'onclick:addNotation'\x3e\r\n      \x3cdiv id\x3d'${uid}_ntbtn' class\x3d'addNewNotation' data-dojo-attach-point\x3d'addNewNotation'\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d'addNewNotationLabel'\x3e${nls.addLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e",
"url:widgets/CoordinateConversion/css/style.css":".jimu-widget-cw {overflow: hidden;}.jimu-widget-cw .jimu-input {color: #78818d;}.jimu-widget-cw .jimu-widget-subtitle {font-size: 14px; letter-spacing: 0.39px; line-height: 19px}.jimu-widget-cw .addNewNotationContainer {display: inline-flex; padding: 10px 10px; cursor: pointer;}.jimu-widget-cw .addNewNotationContainer .addNewNotation {background: url('../images/add_black.png'); background-repeat: no-repeat; background-color: transparent; width: 12px; height: 12px;}.jimu-widget-cw .addNewNotationContainer .addNewNotation:hover {background: url('../images/add_black_hover.png'); background-repeat: no-repeat; background-color: transparent; cursor: pointer;}.jimu-widget-cw .addNewNotationContainer .addNewNotationLabel {color: #7f7f7f; font-size: 12px; padding: 0 5px;}.jimu-widget-cw .addNewNotationContainer .addNewNotationLabel:hover {color: #000000;}.jimu-widget-cw textarea {font-family: 'Avenir Medium'; font-size: 12px; resize: none; width: 240px; height: 35px; background-color: transparent; background: #FFFFFF; border: 1px solid #999999; color: #000000; padding: 10px 5px 10px 5px; margin: 0; letter-spacing: 0px; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;}.jimu-widget-cw textarea:active {border: 1px solid #15a4fa;}.jimu-widget-cw .inputcontainer {margin: 3px; width: 100%; padding: 6px;}.jimu-widget-cw .coordNameContainer {margin-bottom: 6px;}.jimu-widget-cw .outputcontainer {margin: 3px; width: 100%; padding: 6px;}.jimu-widget-cw .coordinateContainer {padding-top: 5px; width: 100%;}.jimu-widget-cw .outputCoordinateContainer {margin: 0 3px; width: 100%; padding: 0 6px;}.jimu-widget-cw .coordarea {height: 0px; overflow: hidden;}.jimu-widget-cw .cpbtn {display: inline-block; background: url('../images/copy_black.png'); background-repeat: no-repeat; background-color: transparent; width: 14px; height: 16px;}.jimu-widget-cw .settingBtn {display: inline-block; background: url('../images/settings_black.png'); background-repeat: no-repeat; background-color: transparent; width: 15px; height: 15px;}.jimu-widget-cw .settingBtn:hover {background: url('../images/settings_black_hover_black.png');}.jimu-widget-cw .cpbtn:hover {background: url('../images/copy_black_hover.png');}.jimu-widget-cw .expandBtn {display: inline-block; background: url('../images/arrow-right_black.png'); background-repeat: no-repeat; background-color: transparent; width: 5px; height: 10px; vertical-align: text-top;}.jimu-widget-cw .expandBtn:hover {background: url('../images/arrow-right_black_hover.png');}.jimu-widget-cw .collapseBtn {display: inline-block; background: url('../images/arrow-down.png'); background-repeat: no-repeat; background-color: transparent; width: 10px; height: 5px; vertical-align: text-top;}.jimu-widget-cw .collapseBtn:hover {background: url('../images/arrow-down_black_hover.png'); background-repeat: no-repeat; background-color: transparent;}.jimu-widget-cw .crdfrmtlabel {display: inline-block; height: 16px; font-size: 12px; color: #000000; width: 100px; padding-left: 5px;}.jimu-widget-cw .coordfrmt {width: 50%;}.jimu-widget-cw .coordformat {display: inline-flex; align-items: center;}.jimu-widget-cw .coordarea.expanded {margin-top: 0px;}.jimu-widget-cw .coordactions {display: inline-block; padding-left: 10px;}.jimu-widget-cw .add-with-icon {display: inline-block; height: 40px; line-height: 40px; color: #000000; padding: 0 2px;}.jimu-widget-cw .add-with-icon.coordLabel {width: 75px;}.jimu-widget-cw .add-output {margin-bottom: 7px; cursor: pointer; display: inline-block;}.jimu-widget-cw .add-output-coordinate-icon {background-image: url(../../../jimu.js/css/images/add_default.png); background-repeat: no-repeat; background-position: center; width: 14px; height: 14px; display: inline-block; vertical-align: middle;}.jimu-widget-cw .add-output-coordinate-label {font-size: 14px; color: #518dca; margin-left: 10px; display: inline-block; height: 100%; text-decoration: underline;}.jimu-widget-cw .line-separator {height: 2px; border-bottom: 1px solid #666666; width: 320px; margin-top: 3px;}.jimu-widget-cw .jimu-coordinate-control .coordLabel {font-size: 12px;}.jimu-widget-cw .jimu-coordinate-control textarea {width: 100%;}.jimu-widget-cw .jimu-coordinate-control .add-with-icon.coordInput {width: calc(100% - 107px);}",
"*now":function(v){v(['dojo/i18n!*preload*widgets/CoordinateConversion/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dijit/_WidgetsInTemplateMixin jimu/BaseWidget dojo/_base/lang dojo/topic dojo/on dojo/dom-class dojo/dom-style dojo/keys dojo/_base/array dijit/Tooltip dijit/registry esri/layers/GraphicsLayer esri/renderers/SimpleRenderer esri/symbols/PictureMarkerSymbol esri/symbols/SimpleMarkerSymbol jimu/utils jimu/dijit/CoordinateControl".split(" "),function(v,r,b,f,k,q,n,l,h,t,m,g,x,A,C,D,w,y){return v([b,r],{baseClass:"jimu-widget-cw",name:"CW",uid:null,postCreate:function(){this.uid=
g.getUniqueId("cc");k.subscribe("REMOVECONTROL",f.hitch(this,this.removeControl));k.subscribe("ADDNEWNOTATION",f.hitch(this,this.addOutputSrBtn));this.coordTypes=[];var b=null;this.config&&(this.config.symbols&&(this.config.symbols.graphicLocationSymbol?b=this.config.symbols.graphicLocationSymbol.hasOwnProperty("imageData")?new C(this.config.symbols.graphicLocationSymbol):new D(this.config.symbols.graphicLocationSymbol):(b=new C(this.folderUrl+"images/CoordinateLocation.png",26,26),b.setOffset(0,
13))),this.config.initialCoords?t.forEach(this.config.initialCoords,f.hitch(this,function(b){this.coordTypes.push(b)})):this.coordTypes=[{notation:"DD",defaultFormat:"Y: N X: E"},{notation:"DDM",defaultFormat:"A\u00b0 B'N X\u00b0 Y'E"},{notation:"DMS",defaultFormat:"A\u00b0 B' C\"N X\u00b0 Y' Z\"E"},{notation:"GARS",defaultFormat:"XYQK"},{notation:"GEOREF",defaultFormat:"ABCDXY"},{notation:"MGRS",defaultFormat:"ZSXY"},{notation:"USNG",defaultFormat:"ZSXY"},{notation:"UTM",defaultFormat:"ZH X Y"},
{notation:"UTM_H",defaultFormat:"ZH X Y"}]);this.coordGLayer||(b=new A(b),this.coordGLayer=new x,this.coordGLayer.spatialReference=this.map.spatialReference,this.coordGLayer.setRenderer(b),this.map.addLayer(this.coordGLayer));this.own(q(this.addNewNotationDiv,"keydown",f.hitch(this,function(b){b.keyCode!==h.ENTER&&b.keyCode!==h.SPACE||this.addNotation()})))},removeControl:function(b){b.destroyRecursive();this.setWidgetLastFocusNode()},addOutputSrBtn:function(b){b||(b.notation="DD",b.defaultFormat=
"YN XE");b=new y({parentWidget:this,input:!1,currentClickPoint:this.inputControl.currentClickPoint,type:b.notation,defaultFormat:b.defaultFormat,label:b.notation,showCopyButton:!0,showDeleteButton:!0,showFormatButton:!0,nls:this.nls});this.own(q(b,"expandButtonClicked",f.hitch(this,function(){this.setWidgetLastFocusNode()})));this.own(q(b,"removeCoordsControl",f.hitch(this,function(){this.setWidgetLastFocusNode();this.addNewNotationDiv.focus()})));b.placeAt(this.outputtablecontainer);b.startup();
k.publish("CRDWIDGETSTATEDIDCHANGE",{state:this.state,themeName:this.appConfig.theme.name,isActive:!0});this.setWidgetLastFocusNode()},startup:function(){this.inputControl=new y({parentWidget:this,label:this.nls.inputLabel,input:!0,showCopyButton:!0,showFormatButton:!0,showDrawPoint:!0,drawButtonLabel:this.nls.addPointLabel,zoomScale:this.config.coordinateconversion.zoomScale,graphicsLayer:this.coordGLayer});this.inputControl.placeAt(this.inputcoordcontainer);this.inputControl.startup();w.initFirstFocusNode(this.domNode,
this.inputControl.coordtext);this.inputControl.coordtext.focus();this._setTheme();t.forEach(this.coordTypes,function(b){this.addOutputSrBtn(b)},this);0===this.coordTypes.length&&w.initLastFocusNode(this.domNode,this.addNewNotationDiv)},setWidgetLastFocusNode:function(){var b;b=w.getFocusNodesInDom(this.outputtablecontainer.children[this.outputtablecontainer.children.length-1]);for(var f=b.length-1;0<=f;f--)b[f]&&(n.contains(b[f],"cpbtn")&&"none"===l.get(b[f].parentNode.parentNode,"display")||n.contains(b[f],
"crds")&&"none"===l.get(b[f].parentNode,"display"))&&b.splice(f,1);b&&0<b.length?w.initLastFocusNode(this.domNode,b[b.length-1]):w.initLastFocusNode(this.domNode,this.addNewNotationDiv)},onOpen:function(){this.widgetManager.activateWidget(this)},onClose:function(){this.setWidgetSleep(!0)},onActive:function(){this.setWidgetSleep(!1)},onDeActive:function(){this.setWidgetSleep(!0)},setWidgetSleep:function(b){this.coordGLayer&&(this.coordGLayer.setVisibility(!b),this.map.setInfoWindowOnClick(b));k.publish("CRDWIDGETSTATEDIDCHANGE",
{state:this.state,themeName:this.appConfig.theme.name,isActive:!b})},addNotation:function(){this.addOutputSrBtn({notation:this.inputControl.type,defaultFormat:this.inputControl.defaultFormat});var b=this.addNewNotation;m.defaultPosition=["above","below"];m.show(this.nls.notationAddedMessage,b);setTimeout(function(){m.hide(b)},2E3)},_removeStyleFile:function(b,f){var g=null,g="js"===f?"src":"css"===f?"href":"none";f=document.getElementsByTagName("js"===f?"script":"css"===f?"link":"none");for(var h=
f.length;0<=h;h--)f[h]&&null!==f[h].getAttribute(g)&&-1!==f[h].getAttribute(g).indexOf(b)&&f[h].parentNode.removeChild(f[h])},_setTheme:function(){"DartTheme"===this.appConfig.theme.name?w.loadStyleLink("dartOverrideCSS",this.folderUrl+"css/dartTheme.css",null):this._removeStyleFile("dartTheme.css","css");"LaunchpadTheme"===this.appConfig.theme.name?w.loadStyleLink("launchpadOverrideCSS",this.folderUrl+"css/launchpadTheme.css",null):this._removeStyleFile("launchpadTheme.css","css")}})});